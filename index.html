<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2Kie da - case</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>

<div class="circle-btn">
  <div class="circle-center">
    <img src="images/Arrow 27.svg" alt="">
  </div>

  <svg class="circle-text" viewBox="0 0 200 200">
    <defs>
      <path
        id="textCircle"
        d="M100,100 m-75,0 a75,75 0 1,1 150,0 a75,75 0 1,1 -150,0"
      />
    </defs>

    <text>
      <textPath href="#textCircle" 
      textLength="471"
      lengthAdjust="spacing"
      startOffset="0">
      &nbsp;обсудить проект • обсудить проект •
      </textPath>
    </text>
  </svg>
</div>

<div class="hero-block">
    <section class="hero-content">
    <img src="images/olen-logo.png" alt="" class="hero-img">
      <div class="mute-btn" id="muteBtn">
        <img src="images/mute-Vector.svg" alt="Mute" class="mute-img">
      </div>
    <div class="play-btn" id="playBtn">
        <img src="images/play.svg" alt="Play" class="btn-play">
    </div>
    <div class="button-group-2">
      <a href="#" class="btn-wht-2">Брендинг</a>
      <a href="#" class="btn-wht-2">Логотип</a>
    </div>
    </section>
    <section class="comp-block">
        <div class="nav-wrapper fade-on-scroll">
    <div class="vertical-links">
      <a href="/cases" class="nav-link">Кейсы</a>
      <a href="/uslugi.html" class="nav-link">Услуги</a>
      <a href="/index.html" class="nav-link">Студия</a>
    </div>
    <a href="" class="telegram-link">tg: @studio</a>
  </div>
    <div class="logo-block fade-on-scroll">
        <img src="images/Group 17.svg" alt="2kie Digital Agency">
    </div>
    </section>
</div>
    <section class="info-block">
<div class="case-wrapper">
  <main class="case-left">
    <section id="s1" class="case-section" data-nav-title="О проекте">
      <div class="cs-1">
        <h2>Олень - лучший глемпинг Тулы</h2>
        <p class="p1">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
        <h3>Задача:</h3>
        <p class="p2">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
      </div>
      <div class="cs-1-2">
        <div class="foto1-s1">
        <img src="images/MG7622.png" alt="" class="fs-1">
        </div>
        <div class="foto2-s1">
        <img src="images/MG8025.png" alt="" class="fs-2">
        </div>
      </div>
    </section>
    <section id="s2" class="case-section" data-nav-title="Дизайн">
      <div class="cs-2">
        <h2>Дизайн</h2>
        <p class="p1">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
        <p class="p2">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
      </div>
      <div class="cs-2-2">
        <img src="images/Frame 1321318687.png" alt="" class="fs-1">
      </div>
    </section>
    <section id="s3" class="case-section" data-nav-title="Команда">
      <div class="cs-3">
        <h2>Команда проекта</h2>
        <p class="p1">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
      </div>
      <div class="cs-3-2">
        <img src="images/pusto.svg" alt="" class="pusto-img">
        <img src="images/pusto.svg" alt="" class="pusto-img">
        <img src="images/pusto.svg" alt="" class="pusto-img">
        <img src="images/pusto.svg" alt="" class="pusto-img">
      </div>
    </section>
    <section id="s5" class="case-section final" data-nav-title="Финал"><h2>Final</h2><p></p></section>
  </main>
  <aside class="case-right" aria-label="Навигация по секциям">
    <div class="nav-inner">
      <div class="nav-title-wrap">
  <div class="nav-title active"></div>
</div>
              <div class="video-block">
            <img src="images/Rectangle 422.png" alt="" class="b-video">
            <div class="podpis">О проекте</div>
            <div class="tegi-v">
            <div class="tegv"># Брендинг</div>
            <div class="tegv"># Разработка</div>
            </div>
            <div class="play-btn-2" id="playBtn">
              <img src="images/play.svg" alt="Play" class="btn-play2">
            </div>
          </div>
    </div>
  </aside>
</div>
    </section>
    <section class="more-proj">
      <div class="zag-proj">
      <h3>Похожие Проекты</h3>
        <a href="" class="ar-cont">
          <div class="icon-wrap-1">
          <img src="images/Arrow 112.svg" class="arrow-icon-1" alt="">
          </div>
        </a>
      </div>
        <div class="card-proj-list">
            <div class="image-container">
                <img src="images/foto4.png" alt="Фото 1" class="photo-472" data-tooltip="Описание первой фотографии">
                <div class="button-group">
                <a href="#" class="btn-drk">Branding</a>
                <a href="#" class="btn-drk">Logo</a>
                </div>
            </div>
            <div class="image-container">
                <img src="images/foto5.png" alt="Фото 2" class="photo-472" data-tooltip="Описание первой фотографии">
                <div class="button-group">
                <a href="#" class="btn-drk">Branding</a>
                <a href="#" class="btn-drk">Logo</a>
                </div>
            </div>
            <div class="image-container">
                <img src="images/foto1.png" alt="Фото 3" class="photo-472" data-tooltip="Описание первой фотографии">
                <div class="button-group">
                <a href="#" class="btn-wht">Branding</a>
                <a href="#" class="btn-wht">Logo</a>
                </div>
            </div>
        </div>
    </section>
    <footer class="footer">
  <div class="container">
    <div class="top-section">
      <p class="small-text">мы быстро ответим на ваш запрос</p>
      <div class="actions">
        <a href="" class="action">ЗАПОЛНИТЬ БРИФ</a>
        <a href="" class="action">ПОЗВОНИТЬ</a>
        <a href="" class="action">НАПИСАТЬ</a>
      </div>
    </div>
    <div class="bottom-section">
      <div class="left-block">
        <a href="">
        <img src="images/Group 19.svg" alt="2kie logo" class="logo">
        </a>
      </div>
      <div class="nav-footer">
    <div class="vertical-links-2">
      <a href="/cases" class="nav-link-2">Кейсы</a>
      <a href="/uslugi.html" class="nav-link-2">Услуги</a>
      <a href="/index.html" class="nav-link-2">Студия</a>
    </div>
  </div>
      <div class="right-block">
        <a href="" class="telegram-link-2">tg: @studio</a>
      </div>
    </div>
  </div>
</footer>
<script>
const circleText = document.querySelector('.circle-text');
const circleBtn  = document.querySelector('.circle-btn');

let lastScrollY = window.scrollY;
let rotation = 0;
let velocity = 0;

// -----------------
// НАСТРОЙКИ
// -----------------
const SCROLL_POWER = 0.02;   // влияние скролла
const FRICTION = 0.9;       // мягкая инерция
const HOVER_SHIFT = 70;      // насколько прокрутить при hover (градусы)
const HOVER_EASE = 0.08;     // плавность наведения

let hoverOffset = 0;
let targetHoverOffset = 0;

// -----------------
// СКРОЛЛ
// -----------------
function onScroll() {
  const currentY = window.scrollY;
  const delta = currentY - lastScrollY;

  velocity += delta * SCROLL_POWER;
  lastScrollY = currentY;
}

// -----------------
// HOVER
// -----------------
circleBtn.addEventListener('mouseenter', () => {
  targetHoverOffset = HOVER_SHIFT;
});

circleBtn.addEventListener('mouseleave', () => {
  targetHoverOffset = 0;
});

// -----------------
// АНИМАЦИЯ
// -----------------
function animate() {
  // основное вращение от скролла
  rotation += velocity;
  velocity *= FRICTION;

  if (Math.abs(velocity) < 0.001) velocity = 0;

  // плавный hover-сдвиг
  hoverOffset += (targetHoverOffset - hoverOffset) * HOVER_EASE;

  // итоговое вращение
  const finalRotation = rotation + hoverOffset;
  circleText.style.transform = `rotate(${finalRotation}deg)`;

  requestAnimationFrame(animate);
}

window.addEventListener('scroll', onScroll);
requestAnimationFrame(animate);
</script>
<script>
const circleBtn2 = document.querySelector('.circle-btn');

// -----------------
// НАСТРОЙКИ В VW
// -----------------
const STOP_OFFSET_VW = 3;  // на сколько vw выше низа страницы кнопка остановится

function vwToPx(vw) {
  return (vw / 100) * window.innerWidth;
}

function updateButtonPosition() {
  const scrollY = window.scrollY;
  const windowH = window.innerHeight;
  const docH = document.documentElement.scrollHeight;

  const stopOffsetPx = vwToPx(STOP_OFFSET_VW);
  const distanceToBottom = docH - (scrollY + windowH);

  if (distanceToBottom < stopOffsetPx) {
    const lift = stopOffsetPx - distanceToBottom;
    circleBtn2.style.transform = `translateY(-${lift}px)`;
  } else {
    circleBtn2.style.transform = `translateY(0)`;
  }
}

window.addEventListener('scroll', () => {
  requestAnimationFrame(updateButtonPosition);
});

window.addEventListener('resize', updateButtonPosition);

updateButtonPosition();
</script>

 <script>
  document.addEventListener('DOMContentLoaded', function() {
  const images = document.querySelectorAll('img[data-tooltip]');
  const tooltip = document.createElement('div');
  tooltip.className = 'tooltip';
  document.body.appendChild(tooltip);

  let isTooltipVisible = false;

  images.forEach(img => {
    // При наведении
    img.addEventListener('mouseover', function(e) {
      const text = this.getAttribute('data-tooltip');
      tooltip.textContent = text;
      
      // Позиционируем подсказку справа-снизу от курсора
      const x = e.clientX + 12; // 12px отступа от курсора
      const y = e.clientY + 12;
      
      tooltip.style.left = x + 'px';
      tooltip.style.top = y + 'px';
      
      // Показываем подсказку
      tooltip.classList.add('show');
      isTooltipVisible = true;
    });

    // При уходе курсора
    img.addEventListener('mouseout', function() {
      tooltip.classList.remove('show');
      isTooltipVisible = false;
    });

    // При движении курсора обновляем позицию
    img.addEventListener('mousemove', function(e) {
      if (isTooltipVisible) {
        const x = e.clientX + 12;
        const y = e.clientY + 12;
        tooltip.style.left = x + 'px';
        tooltip.style.top = y + 'px';
      }
    });
  });
});
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('.nav-link');
  const currentUrl = window.location.pathname;

  links.forEach(link => {
    // Сравниваем путь ссылки с текущим URL
    if (link.getAttribute('href') === currentUrl) {
      link.classList.add('active');
    }
  });
});
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
  const muteBtn = document.getElementById('muteBtn');
  const img = muteBtn.querySelector('img');

  // Пути к изображениям
  const muteIcon = 'images/mute-Vector.svg';        // иконка «звук выключен»
  const unmuteIcon = 'images/unmute-Vector.svg';     // иконка «звук включён»

  // Начальное состояние: звук выключен (показываем mute-иконку)
  img.src = muteIcon;

  // Обработчик клика
  muteBtn.addEventListener('click', function() {
    if (img.src.includes(muteIcon)) {
      // Если сейчас иконка «выключено» — меняем на «включено»
      img.src = unmuteIcon;
    } else {
      // Если сейчас иконка «включено» — меняем на «выключено»
      img.src = muteIcon;
    }
  });
});
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const sections = Array.from(
    document.querySelectorAll(".case-section[data-nav-title]")
  );
  const titleWrap = document.querySelector(".nav-title-wrap");

  if (!sections.length || !titleWrap) return;

  let currentId = null;

  // ----------------------------
  // УСТАНОВКА ЗАГОЛОВКА
  // ----------------------------
  function setNavTitle(text) {
    const oldTitle = titleWrap.querySelector(".nav-title");

    const newTitle = document.createElement("div");
    newTitle.className = "nav-title";
    newTitle.textContent = text;
    titleWrap.appendChild(newTitle);

    // триггер анимации
    newTitle.offsetHeight;
    newTitle.classList.add("active");

    if (oldTitle) {
      oldTitle.classList.remove("active");
      setTimeout(() => oldTitle.remove(), 350);
    }
  }

  // ----------------------------
  // ОПРЕДЕЛЕНИЕ АКТИВНОЙ СЕКЦИИ
  // ----------------------------
  function updateActiveSection() {
    const vh = window.innerHeight;
    const triggerPoint = vh * 0.02;

    let closestSection = null;
    let minDistance = Infinity;

    sections.forEach(section => {
      const rect = section.getBoundingClientRect();
      const distance = Math.abs(rect.top - triggerPoint);

      if (distance < minDistance) {
        minDistance = distance;
        closestSection = section;
      }
    });

    if (!closestSection) return;
    if (closestSection.id === currentId) return;

    currentId = closestSection.id;
    setNavTitle(closestSection.dataset.navTitle);
  }

  // ----------------------------
  // ИНИЦИАЛИЗАЦИЯ
  // ----------------------------
  updateActiveSection();

  // ----------------------------
  // СЛУШАЕМ СКРОЛЛ (НЕ observer!)
  // ----------------------------
  window.addEventListener("scroll", () => {
    requestAnimationFrame(updateActiveSection);
  });
});
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2Kie da - case</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>


<div id="circularButton" class="fixed-bottom-right">
  <div class="arrow-container">
    <img src="images/Arrow 27.svg" alt="Стрелка" class="arrow">
  </div>
  <div class="text-container">
<svg overflow="visible" width="6vw" height="6vw" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path id="circlePath" d="M50,10 A40,40 0 1,1 50,90 A40,40 0 1,1 50,10" fill="none" stroke="transparent"/>
  <text font-size="0.875vw" font-family="Montserrat">
    <textPath href="#circlePath" textLength="100%" startOffset="0%">
    &middot;обсудить проект&middot;обсудить проект
    </textPath>
  </text>
</svg>
  </div>
</div>

    <section class="hero-content">
    <img src="images/olen-logo.png" alt="">
    <div class="hero-overlay">
      <div class="logo-container">
        <a href="" target="_blank">
          <img src="images/Group white.svg" alt="Логотип 2kie">
        </a>
      </div>
      <div class="nav-wrapper">
    <div class="vertical-links">
      <a href="/case.html" class="nav-link">Кейсы</a>
      <a href="/uslugi.html" class="nav-link">Услуги</a>
      <a href="/index.html" class="nav-link">Студия</a>
    </div>
  </div>
      <div class="mute-btn" id="muteBtn">
        <img src="images/mute-Vector.svg" alt="Mute">
      </div>
    </div>
    <div class="play-btn" id="playBtn">
        <img src="images/play.svg" alt="Play" class="btn-play">
    </div>
    <div class="button-group-2">
      <a href="#" class="btn-wht">Branding</a>
      <a href="#" class="btn-wht">Logo</a>
    </div>
    </section>
    <section class="info-block">
<div class="case-wrapper">
  <main class="case-left">
    <section id="s1" class="case-section">
      <div class="cs-1">
        <h2>Олень - лучший глемпинг Тулы</h2>
        <p class="p1">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
        <h3>Задача:</h3>
        <p class="p2">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
      </div>
      <div class="cs-1-2">
        <div class="foto1-s1">
        <img src="images/_MG_7622.jpg 1 1.png" alt="" class="fs-1">
        </div>
        <div class="foto2-s1">
        <img src="images/_MG_8025.jpg 1 1.png" alt="" class="fs-2">
        </div>
      </div>
    </section>
    <section id="s2" class="case-section">
      <div class="cs-2">
        <h2>Дизайн</h2>
        <p class="p1">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
        <p class="p2">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
      </div>
      <div class="cs-2-2">
        <img src="images/Frame 1321318687.png" alt="" class="fs-1">
      </div>
    </section>
    <section id="s3" class="case-section">
      <div class="cs-3">
        <h2>Команда проекта</h2>
        <p class="p1">Дизайн и разработка цифровых сервисов, сайтов и приложений с нуля. Поиск новых решений для развития существующих продуктов</p>
      </div>
      <div class="cs-3-2">
        <img src="images/pusto.svg" alt="" class="pusto-img">
        <img src="images/pusto.svg" alt="" class="pusto-img">
        <img src="images/pusto.svg" alt="" class="pusto-img">
        <img src="images/pusto.svg" alt="" class="pusto-img">
      </div>
    </section>
    <section id="s5" class="case-section final"><h2>Final</h2><p></p></section>
  </main>
  <aside class="case-right" aria-label="Навигация по секциям">
    <div class="nav-inner">
    <div class="track" id="track">
      <div class="track-line" id="trackLine"></div>           <!-- вертикальная линия (будет динамичной высоты) -->
      <div class="track-end-dot" id="trackEndDot"></div>      <!-- маленькая окружность внизу напротив Final -->
      <div class="track-indicator" id="trackIndicator">       <!-- сам индикатор, внутри — connector -->
      <div class="connector" id="indicatorConnector"></div>
      <div class="connector-dot" id="connectorDot"></div>
      </div>
    </div>
              <div class="video-block">
            <img src="images/Rectangle 422.png" alt="" class="b-video">
            <div class="podpis">О проекте</div>
            <div class="play-btn-2" id="playBtn">
              <img src="images/play.svg" alt="Play" class="btn-play2">
            </div>
          </div>
      <nav class="side-nav" id="sideNav">
        <button class="nav-item" data-target="s1"><span class="num">1.</span>
          <img src="images/lp-1.svg" alt="">
          <span class="title">Задача</span>
        </button>
        <button class="nav-item" data-target="s2"><span class="num">2.</span>
          <img src="images/lp-1.svg" alt="">
          <span class="title">Дизайн</span>
        </button>
        <button class="nav-item" data-target="s3"><span class="num">3.</span>
          <img src="images/lp-1.svg" alt="">
          <span class="title">Команда</span>
        </button>
        <!-- пустое пространство, final располагается отдельно -->
        <div class="nav-spacer"></div>
        <button class="nav-item nav-final" data-target="s5"><span class="num">Final</span></button>
      </nav>
    </div>
  </aside>
</div>
    </section>
    <section class="more-proj">
      <div class="zag-proj">
      <h3>Похожие Проекты</h3>
        <a href="" class="ar-cont">
          <div class="icon-wrap-1">
          <img src="images/Arrow 112.svg" class="arrow-icon-1" alt="">
          </div>
        </a>
      </div>
        <div class="card-proj-list">
            <div class="image-container">
                <img src="images/foto4.png" alt="Фото 1" class="photo-472" data-tooltip="Описание первой фотографии">
                <div class="button-group">
                <a href="#" class="btn-drk">Branding</a>
                <a href="#" class="btn-drk">Logo</a>
                </div>
            </div>
            <div class="image-container">
                <img src="images/foto5.png" alt="Фото 2" class="photo-472" data-tooltip="Описание первой фотографии">
                <div class="button-group">
                <a href="#" class="btn-drk">Branding</a>
                <a href="#" class="btn-drk">Logo</a>
                </div>
            </div>
            <div class="image-container">
                <img src="images/foto1.png" alt="Фото 3" class="photo-472" data-tooltip="Описание первой фотографии">
                <div class="button-group">
                <a href="#" class="btn-wht">Branding</a>
                <a href="#" class="btn-wht">Logo</a>
                </div>
            </div>
        </div>
    </section>
    <footer class="footer">
  <div class="container">
    <div class="top-section">
      <p class="small-text">мы быстро ответим на ваш запрос</p>
      <div class="actions">
        <a href="" class="action">ЗАПОЛНИТЬ БРИФ</a>
        <a href="" class="action">ПОЗВОНИТЬ</a>
        <a href="" class="action">НАПИСАТЬ</a>
      </div>
    </div>
    <div class="bottom-section">
      <div class="left-block">
        <a href="">
        <img src="images/Group 19.svg" alt="2kie logo" class="logo">
        </a>
      </div>
      <div class="nav-footer">
    <div class="vertical-links-2">
      <a href="/cases" class="nav-link-2">Кейсы</a>
      <a href="/uslugi.html" class="nav-link-2">Услуги</a>
      <a href="/index.html" class="nav-link-2">Студия</a>
    </div>
  </div>
      <div class="right-block">
        <a href="" class="telegram-link-2">tg: @studio</a>
      </div>
    </div>
  </div>
</footer>
<script>
const textPath = document.querySelector('svg textPath');
const circlePath = document.getElementById('circlePath');

const PATH_LENGTH = circlePath.getTotalLength();
textPath.setAttribute('textLength', PATH_LENGTH);

let lastScrollY = window.pageYOffset;
let offsetLength = 0;
const SCROLL_SENSITIVITY = 0.1;

function updateTextPosition() {
  const currentScrollY = window.pageYOffset;
  const scrollDelta = currentScrollY - lastScrollY;
  
  offsetLength += scrollDelta * SCROLL_SENSITIVITY;
  
  let normalizedOffset = offsetLength % PATH_LENGTH;
  if (normalizedOffset < 0) normalizedOffset += PATH_LENGTH;
  
  textPath.setAttribute('startOffset', normalizedOffset);
  lastScrollY = currentScrollY;
}

let frameRequested = false;
function onScroll() {
  if (!frameRequested) {
    frameRequested = true;
    requestAnimationFrame(() => {
      updateTextPosition();
      frameRequested = false;
    });
  }
}

window.addEventListener('scroll', onScroll);
</script>
 <script>
(function () {
  const sections = Array.from(document.querySelectorAll('.case-section'));
  const navButtons = Array.from(document.querySelectorAll('.side-nav .nav-item:not(.nav-final)'));
  const finalBtn = document.querySelector('.nav-final');
  const track = document.getElementById('track');
  const indicator = document.getElementById('trackIndicator');
  const trackLine = document.getElementById('trackLine');
  const trackEndDot = document.getElementById('trackEndDot');
  const connector = document.getElementById('indicatorConnector');
  const connectorDot = document.getElementById('connectorDot');

  if (!sections.length || !track || !indicator || !trackLine || !trackEndDot) return;

  let trackRect = null;

  // Относительное смещение линии от верха track (в vw, как в CSS)
  const lineTopVw = -11.875; // соответствует top: -11.875vw

  function updateRects() {
    trackRect = track.getBoundingClientRect();
  }

  // Пересчитываем геометрию trackLine и trackEndDot
  function updateTrackGeometry() {
    updateRects();

    const finalRect = finalBtn.getBoundingClientRect();
    const viewportWidth = window.innerWidth;
    const vwUnit = viewportWidth / 100; // 1vw в пикселях

    // Позиция начала линии (в пикселях)
    const lineStartY = trackRect.top + (lineTopVw * vwUnit);

    // Центр кнопки Final (в пикселях)
    const finalCenterY = finalRect.top + finalRect.height / 2;

    // Высота линии = расстояние от начала до центра Final
    let lineHeight = finalCenterY - lineStartY;

    // Ограничения (в пикселях)
    const minLineHeight = 8;
    const maxLineHeight = trackRect.height - (lineTopVw * vwUnit) - 8;

    lineHeight = Math.max(minLineHeight, Math.min(maxLineHeight, lineHeight));

    // Применяем высоту линии
    trackLine.style.height = `${Math.round(lineHeight)}px`;

    // Позиция центра trackEndDot (от верха track)
    const endDotCenterY = (lineTopVw * vwUnit) + lineHeight;
    trackEndDot.style.top = `${Math.round(endDotCenterY)}px`;
  }

  // Определяем индекс ближайшей секции к центру экрана
  function getActiveSectionIndex() {
    const center = window.scrollY + window.innerHeight / 2;
    let nearest = 0;
    let minDistance = Infinity;

    sections.forEach((section, i) => {
      const sectionTop = window.scrollY + section.getBoundingClientRect().top;
      const sectionCenter = sectionTop + section.offsetHeight / 2;
      const distance = Math.abs(sectionCenter - center);

      if (distance < minDistance) {
        minDistance = distance;
        nearest = i;
      }
    });

    return nearest;
  }

  // Обновляем визуальное состояние навигационных кнопок
  function updateNavVisuals(activeIndex) {
    navButtons.forEach((btn, i) => {
      const dist = Math.abs(i - activeIndex);
      btn.classList.remove('size-large', 'size-medium', 'size-small', 'hidden', 'active');

      if (i === activeIndex) {
        btn.classList.add('size-large', 'active');
      } else if (dist === 1) {
        btn.classList.add('size-medium');
      } else if (dist === 2) {
        btn.classList.add('size-small');
      } else {
        btn.classList.add('hidden');
      }
    });

    if (activeIndex === sections.length - 1) {
      finalBtn.classList.add('active');
    } else {
      finalBtn.classList.remove('active');
    }
  }

  // Перемещаем индикатор к активной секции
  function moveIndicatorTo(activeIndex) {
    updateRects();

    const localTrackTop = trackRect.top + window.scrollY;
    let centerY = null;

    if (activeIndex >= 0 && activeIndex < navButtons.length) {
      const rect = navButtons[activeIndex].getBoundingClientRect();
      centerY = window.scrollY + rect.top + rect.height / 2;
    } else {
      // Для Final
      const finalRect = finalBtn.getBoundingClientRect();
      centerY = window.scrollY + finalRect.top + finalRect.height / 2;
    }

    // Позиция центра индикатора внутри track
    let centerInsideTrack = centerY - localTrackTop;
    const min = 8;
    const max = trackRect.height - 12;
    centerInsideTrack = Math.max(min, Math.min(max, centerInsideTrack));

    // Учитываем высоту индикатора (1.813vw → в пикселях)
    const viewportWidth = window.innerWidth;
    const indicatorHeightPx = (1.813 * viewportWidth) / 100;
    const indicatorTop = centerInsideTrack - (indicatorHeightPx / 2);

    indicator.style.top = `${Math.round(indicatorTop)}px`;
  }

  // Основной обработчик прокрутки
  function onScroll() {
    const active = getActiveSectionIndex();
    updateNavVisuals(active);
    moveIndicatorTo(active);
  }

  // Обработчики кликов
  navButtons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      const id = btn.getAttribute('data-target');
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  });

  finalBtn.addEventListener('click', () => {
    const id = finalBtn.getAttribute('data-target');
    const el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
  });

  // Обработчики событий
  window.addEventListener('resize', () => {
    updateTrackGeometry();
    moveIndicatorTo(getActiveSectionIndex());
  });

  window.addEventListener('load', () => {
    updateTrackGeometry();
    moveIndicatorTo(getActiveSectionIndex());
    // Небольшой таймаут на пересчет шрифтов/рендера
    setTimeout(() => {
      updateTrackGeometry();
      moveIndicatorTo(getActiveSectionIndex());
    }, 300);
  });

  window.addEventListener('scroll', () => {
    if (!window._navTicking) {
      window.requestAnimationFrame(() => {
        onScroll();
        window._navTicking = false;
      });
      window._navTicking = true;
    }
  }, { passive: true });

  // Инициализация
  updateTrackGeometry();
  moveIndicatorTo(getActiveSectionIndex());
})();
 </script>
 <script>
  document.addEventListener('DOMContentLoaded', function() {
  const images = document.querySelectorAll('img[data-tooltip]');
  const tooltip = document.createElement('div');
  tooltip.className = 'tooltip';
  document.body.appendChild(tooltip);

  let isTooltipVisible = false;

  images.forEach(img => {
    // При наведении
    img.addEventListener('mouseover', function(e) {
      const text = this.getAttribute('data-tooltip');
      tooltip.textContent = text;
      
      // Позиционируем подсказку справа-снизу от курсора
      const x = e.clientX + 12; // 12px отступа от курсора
      const y = e.clientY + 12;
      
      tooltip.style.left = x + 'px';
      tooltip.style.top = y + 'px';
      
      // Показываем подсказку
      tooltip.classList.add('show');
      isTooltipVisible = true;
    });

    // При уходе курсора
    img.addEventListener('mouseout', function() {
      tooltip.classList.remove('show');
      isTooltipVisible = false;
    });

    // При движении курсора обновляем позицию
    img.addEventListener('mousemove', function(e) {
      if (isTooltipVisible) {
        const x = e.clientX + 12;
        const y = e.clientY + 12;
        tooltip.style.left = x + 'px';
        tooltip.style.top = y + 'px';
      }
    });
  });
});
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('.nav-link');
  const currentUrl = window.location.pathname;

  links.forEach(link => {
    // Сравниваем путь ссылки с текущим URL
    if (link.getAttribute('href') === currentUrl) {
      link.classList.add('active');
    }
  });
});
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
  const muteBtn = document.getElementById('muteBtn');
  const img = muteBtn.querySelector('img');

  // Пути к изображениям
  const muteIcon = 'images/mute-Vector.svg';        // иконка «звук выключен»
  const unmuteIcon = 'images/unmute-Vector.svg';     // иконка «звук включён»

  // Начальное состояние: звук выключен (показываем mute-иконку)
  img.src = muteIcon;

  // Обработчик клика
  muteBtn.addEventListener('click', function() {
    if (img.src.includes(muteIcon)) {
      // Если сейчас иконка «выключено» — меняем на «включено»
      img.src = unmuteIcon;
    } else {
      // Если сейчас иконка «включено» — меняем на «выключено»
      img.src = muteIcon;
    }
  });
});
</script>
</body>
</html>